<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <title>Document</title>
</head>
<body>
    <form>
        enter site id<input type="text" id="site_id" >
        enter date<input type="date" id="da">
        <br>
        <input type="button" id="bb1" value="submit"><br><br>
        <div id="t_volume"></div>
        <div id="dis_brick"></div>
        <div id="dis_plaster"></div>
        <div id="dis_paint"></div>
        <div id="dis_concrete"></div>
    </form>
    <script>
        const butt=document.getElementById("bb1");
        let t_volume_brick=0,t_volume_concrete=0,t_volume_plaster=0,t_volume_paint=0;
        butt.addEventListener('click',async()=>{

    


            
            let site_id=document.getElementById("site_id").value;
            let da=document.getElementById("da").value;
            // alert(site_id);
            // // var d=JSON.stringify({site_id:site_id,date:da});
            // alert(da);

            //brick

           await fetch('http://localhost:3010/get_brick/'+site_id+'/'+da)
           .then(async(e)=>{
            return e.json();
           })
           .then(async(e1)=>{
            let temp="<div class='row'>Brick work";
            
            for(let d of e1){
                temp+="<div class='col-sm-3'><div class='card'><p>Site ID "+d.site_id+"</p>";
                temp+="<p>length "+d.length+"</p>";
                temp+="<p>Breadth "+d.breadth+"</p>";
                temp+="<p>Height "+d.height+"</p>";
                temp+="<p>Nos "+d.nos+"</p>";
                temp+="<p>Volume "+d.volume+"</p></div></div>";
                t_volume_brick+=d.volume;
            }
            temp+="</div>";
            document.getElementById("dis_brick").innerHTML=temp;
           })
           .catch(async(err)=>
           alert("error"+err));


           //plastering
           await fetch('http://localhost:3010/get_plaster/'+site_id+'/'+da)
           .then(async(e)=>{
            return e.json();
           })
           .then(async(e1)=>{
           
            let temp="<div class='row'>plastering";
            for(let d of e1){
                temp+="<div class='col-sm-3'><div class='card'><p>Site ID "+d.site_id+"</p>";
                temp+="<p>length "+d.length+"</p>";
                temp+="<p>Breadth "+d.breadth+"</p>";
               
                temp+="<p>Nos "+d.nos+"</p>";
                temp+="<p>Volume "+d.volume+"</p></div></div>";

                t_volume_plaster+=d.volume;
            }
            temp+="</div>";
            temp+="</div>";
            document.getElementById("dis_plaster").innerHTML=temp;
           })
           .catch(async(err)=>
           alert("error_plaster"+err));


        //paint

        await fetch('http://localhost:3010/get_paint/'+site_id+'/'+da)
           .then(async(e)=>{
            return e.json();
           })
           .then(async(e1)=>{
        
            let temp="<div class='row'>paint";
            for(let d of e1){
                temp+="<div class='col-sm-3'><div class='card'><p>Site ID "+d.site_id+"</p>";
                temp+="<p>length "+d.length+"</p>";
                temp+="<p>Breadth "+d.breadth+"</p>";
              
                temp+="<p>Nos "+d.nos+"</p>";
                temp+="<p>Volume "+d.volume+"</p></div></div>";
                t_volume_paint+=d.volume;
            }
            temp+="</div>";
            temp+="</div>";
            document.getElementById("dis_paint").innerHTML=temp;
           })
           .catch(async(err)=>
           alert("error_paint"+err));


        //concrete

        await fetch('http://localhost:3010/get_concrete/'+site_id+'/'+da)
           .then(async(e)=>{
            return e.json();
           })
           .then(async(e1)=>{
          
            let temp="<div class='row'>Concrete";
            for(let d of e1){
                temp+="<div class='col-sm-3'><div class='card'><p>Site ID "+d.site_id+"</p>";
                temp+="<p>length "+d.length+"</p>";
                temp+="<p>Breadth "+d.breadth+"</p>";
                temp+="<p>Height "+d.height+"</p>";
                temp+="<p>Nos "+d.nos+"</p>";
                temp+="<p>Volume "+d.volume+"</p></div></div>";

                t_volume_concrete+=d.volume;
            }
            temp+="</div>";

            
            document.getElementById("dis_concrete").innerHTML=temp;
            let t="total volume<br> Brick = "+t_volume_brick+"<br>Paint = "+t_volume_paint+" <br> Concrete"+t_volume_concrete+"<br>Plaster = "+t_volume_plaster;

document.getElementById("t_volume").innerHTML=t;
           })
           .catch(async(err)=>
           alert("error_concrete"+err));


           



        })




    </script>
</body>
</html>